<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "com.ssofun.www.community.mapper.CommunitySqlMapper">


	<!--커뮤니티 글 등록 -->
	<insert id= "communityWriteInsert">
		INSERT INTO tb_community (
		user_id, 
		title, 
		contents, 
		read_count, 
		community_created_at
		)
		VALUES(
		    #{user_id},
		    #{title},
		    #{contents},
		    0,
		    CURRENT_TIMESTAMP()
		)
	</insert>
	
	
	<!--커뮤니티 글 리스트 출력 -->
	<select id="communitySelectList" resultType="com.ssofun.dto.CommunityDto">
	
		select*
		from tb_community
		order by community_id desc
	
	</select>
	
	
	<!--유저 테이블 프라이머리키로 검색 -->
	<select id="selectByUserId" resultType="com.ssofun.dto.UserDto">
	
		select*
		from tb_user
		where user_id = #{user_id}
	
	</select>
	
	
	<!--커뮤니티 테이블 프라이머리키로 검색 -->
	<select id="selectByCommunityId" resultType="com.ssofun.dto.CommunityDto">
	
		select*
		from tb_community
		where community_id = #{community_id}
	
	</select>
	
	



</mapper>